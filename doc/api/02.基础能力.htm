<div data-v-446853f1="" class="open-body__right markdown-body"><div data-v-e39afd5e="" data-v-446853f1="" class="document"><p>基础能力提供网盘基本功能：上传、下载、查看、搜索、管理。</p>
<h2 id="通用参数">通用参数</h2>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>access_token</td>
<td>string</td>
<td>是</td>
<td>授权凭证</td>
</tr>
</tbody></table>
<p>备注：</p>
<p>1、所有接口都要带</p>
<p>2、通用参数必须放在URL里</p>
<h2 id="获取用户信息">获取用户信息</h2>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/rest/2.0/xpan/nas?method=uinfo</code></pre>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>baidu_name</td>
<td>string</td>
<td>百度账号</td>
</tr>
<tr>
<td>netdisk_name</td>
<td>string</td>
<td>网盘账号</td>
</tr>
<tr>
<td>avatar_url</td>
<td>string</td>
<td>头像地址</td>
</tr>
<tr>
<td>vip_type</td>
<td>int</td>
<td>会员类型，0普通用户、1普通会员、2超级会员</td>
</tr>
<tr>
<td>uk</td>
<td>int</td>
<td>用户ID</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/nas?method=uinfo&amp;access_token=123" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  "avatar_url": "https://ss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/5923e63a.jpg",
  "baidu_name": "青袍浪人",
  "errmsg": "succ",
  "errno": 0,
  "netdisk_name": "",
  "request_id": "1734729899651722785",
  "uk": 591271737,
  "vip_type": 0
}</code></pre>
<h2 id="获取网盘容量信息">获取网盘容量信息</h2>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/api/quota</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>checkfree</td>
<td>int</td>
<td>否</td>
<td>检查免费信息</td>
</tr>
<tr>
<td>checkexpire</td>
<td>int</td>
<td>否</td>
<td>检查过期信息</td>
</tr>
</tbody></table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>total</td>
<td>int</td>
<td>总空间大小，单位B</td>
</tr>
<tr>
<td>expire</td>
<td>bool</td>
<td>7天内是否有容量到期</td>
</tr>
<tr>
<td>used</td>
<td>int</td>
<td>已使用大小，单位B</td>
</tr>
<tr>
<td>free</td>
<td>int</td>
<td>剩余大小，单位B</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/api/quota?access_token=123&amp;chckfree=1&amp;checkexpire=1" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  "errno": 0,
  "total": 2204391964672,
  "request_id": 503765561064289018,
  "expire": null,
  "used": 50465139362
}</code></pre>
<h2 id="列表类">列表类</h2>
<h3 id="获取文件列表">获取文件列表</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/rest/2.0/xpan/file?method=list</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>dir</td>
<td>string</td>
<td>否</td>
<td>需要list的目录，以/开头的绝对路径，默认为 /</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>否</td>
<td>排序字段，<br>time表示先按文件类型排序，后按修改时间排序，<br>name表示先按文件类型排序，后按文件名称排序，<br>size表示先按文件类型排序， 后按文件大小排序，<br>默认为name</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>否</td>
<td>该KEY存在为降序，否则为升序</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>起始位置， 从0开始</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>否</td>
<td>每页条目数，默认为1000，最大值为10000</td>
</tr>
<tr>
<td>web</td>
<td>string</td>
<td>否</td>
<td>值为web时， 返回dir_empty 和 缩略图数据</td>
</tr>
<tr>
<td>folder</td>
<td>int</td>
<td>否</td>
<td>是否只返回文件夹，1 只返回目录条目，且属性只返回path字段、0 返回所有</td>
</tr>
<tr>
<td>showempty</td>
<td>int</td>
<td>否</td>
<td>是否返回 dir_empty 属性，1 返回、0 不返回</td>
</tr>
</tbody></table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>fs_id</td>
<td>uint64</td>
<td>文件在云端的唯一标识ID</td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td>文件的绝对路径</td>
</tr>
<tr>
<td>server_filename</td>
<td>string</td>
<td>文件名称</td>
</tr>
<tr>
<td>size</td>
<td>unit</td>
<td>文件大小，单位B</td>
</tr>
<tr>
<td>server_mtime</td>
<td>uint</td>
<td>文件在服务器修改时间</td>
</tr>
<tr>
<td>server_ctime</td>
<td>unit</td>
<td>文件在服务器创建时间</td>
</tr>
<tr>
<td>local_mtime</td>
<td>uint</td>
<td>文件在客户端修改时间</td>
</tr>
<tr>
<td>local_ctime</td>
<td>unit</td>
<td>文件在客户端创建时间</td>
</tr>
<tr>
<td>isdir</td>
<td>uint</td>
<td>是否目录，0 文件、1 目录</td>
</tr>
<tr>
<td>category</td>
<td>unit</td>
<td>文件类型，1 视频、2 音频、3 图片、4 文档、5 应用、6 其他、7 种子</td>
</tr>
<tr>
<td>md5</td>
<td>string</td>
<td>文件的md5值，只有是文件类型时，该KEY才存在</td>
</tr>
<tr>
<td>dir_empty</td>
<td>int</td>
<td>该目录是否存在子目录， 只有请求参数带WEB且该条目为目录时，该KEY才存在</td>
</tr>
<tr>
<td>thumbs</td>
<td>array</td>
<td>只有请求参数带WEB且该条目分类为图片时，该KEY才存在，包含三个尺寸的缩略图URL</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/file?method=list&amp;access_token=123&amp;dir=/baidu&amp;start=0&amp;limit=10&amp;web=web" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  "errno": 0,
  "guid_info": "",
  "list": [
    {
      "category": 6,
      "unlist": 0,
      "fs_id": 367516000038625,
      "dir_empty": 0,
      "oper_id": 3389535607,
      "server_ctime": 1541510747,
      "local_mtime": 1541510747,
      "size": 0,
      "share": 0,
      "isdir": 1,
      "path": "/baidu/test",
      "local_ctime": 1541510747,
      "server_filename": "test",
      "empty": 0,
      "server_mtime": 1541510747
    },
    {
      "server_mtime": 1546393614,
      "category": 3,
      "unlist": 0,
      "fs_id": 919928502686140,
      "oper_id": 3389535607,
      "server_ctime": 1546393614,
      "isdir": 0,
      "local_mtime": 1545900773,
      "size": 702061,
      "thumbs": {
        "icon": "https://thumbnail0.baidupcs.com/thumbnail/723aac2737750aa1bf2f8e994874c29a?fid=3389535607-250528-919928502686140&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-avROu0nUQtB6Yza0paRDfc/xkN4=&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=32727328427771128&amp;dp-callid=0&amp;time=1546390800&amp;size=c60_u60&amp;quality=100&amp;vuk=3389535607&amp;ft=image",
        "url3": "https://thumbnail0.baidupcs.com/thumbnail/723aac2737750aa1bf2f8e994874c29a?fid=3389535607-250528-919928502686140&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-avROu0nUQtB6Yza0paRDfc/xkN4=&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=32727328427771128&amp;dp-callid=0&amp;time=1546390800&amp;size=c850_u580&amp;quality=100&amp;vuk=3389535607&amp;ft=image",
        "url2": "https://thumbnail0.baidupcs.com/thumbnail/723aac2737750aa1bf2f8e994874c29a?fid=3389535607-250528-919928502686140&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-avROu0nUQtB6Yza0paRDfc/xkN4=&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=32727328427771128&amp;dp-callid=0&amp;time=1546390800&amp;size=c360_u270&amp;quality=100&amp;vuk=3389535607&amp;ft=image",
        "url1": "https://thumbnail0.baidupcs.com/thumbnail/723aac2737750aa1bf2f8e994874c29a?fid=3389535607-250528-919928502686140&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-avROu0nUQtB6Yza0paRDfc/xkN4=&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=32727328427771128&amp;dp-callid=0&amp;time=1546390800&amp;size=c140_u90&amp;quality=100&amp;vuk=3389535607&amp;ft=image"
      },
      "share": 0,
      "md5": "723aac2737750aa1bf2f8e994874c29a",
      "path": "/baidu/tcl.png",
      "local_ctime": 1545900773,
      "server_filename": "tcl.png"
    }
  ],
  "request_id": 32727328427771128,
  "guid": 0
}</code></pre>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>-7</td>
<td>文件或目录名错误或无权访问</td>
</tr>
<tr>
<td>-9</td>
<td>文件或目录不存在</td>
</tr>
</tbody></table>
<h3 id="递归获取文件列表">递归获取文件列表</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/rest/2.0/xpan/multimedia?method=listall</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>path</td>
<td>string</td>
<td>是</td>
<td>目录名称</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>否</td>
<td>排序字段，time(修改时间)，name(文件名)，size(大小)，默认为文件类型</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>否</td>
<td>0 升序，1 降序，默认0</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>查询起点，默认0</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>否</td>
<td>查询数目，默认1</td>
</tr>
<tr>
<td>recursion</td>
<td>int</td>
<td>否</td>
<td>是否递归，0 否，1 是，默认0</td>
</tr>
<tr>
<td>ctime</td>
<td>int</td>
<td>否</td>
<td>文件上传时间，设置此参数，表示只返回上传时间大于ctime的文件</td>
</tr>
<tr>
<td>mtime</td>
<td>int</td>
<td>否</td>
<td>文件修改时间，设置此参数，表示只返回修改时间大于ctime的文件</td>
</tr>
<tr>
<td>web</td>
<td>int</td>
<td>否</td>
<td>为1时返回缩略图地址</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "http://pan.baidu.com/rest/2.0/xpan/multimedia?method=listall&amp;clienttype=123&amp;channel=123&amp;access_token=123&amp;path=/test&amp;start=0&amp;limit=100&amp;recursion=1&amp;web=1" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
    "cursor": 12,
    "errmsg": "succ",
    "errno": 0,
    "has_more": 0,
    "list": [
        {
            "category": 1,
            "fs_id": 233030362962066,
            "isdir": 0,
            "md5": "4fe485d1b4956a697c18b9b83cf726ad",
            "path": "/来自：海康智存/头号玩家.ready.player.one.2018.720p.x264.双语字幕-深影字幕组.mp4",
            "server_ctime": 1548579624,
            "server_filename": "头号玩家.ready.player.one.2018.720p.x264.双语字幕-深影字幕组.mp4",
            "server_mtime": 1550805308,
            "size": 2379166349,
            "thumbs": {
                "icon": "https://thumbnail0.baidupcs.com/thumbnail/4fe485d1b4956a697c18b9b83cf726ad?fid=3389535607-250528-233030362962066&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-%2FuWm3ClfqnDHqEZJuaaK95yafyA%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2593591034729158962&amp;dp-callid=0&amp;time=1551751200&amp;size=c60_u60&amp;quality=100&amp;vuk=3389535607&amp;ft=video",
                "url1": "https://thumbnail0.baidupcs.com/thumbnail/4fe485d1b4956a697c18b9b83cf726ad?fid=3389535607-250528-233030362962066&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-%2FuWm3ClfqnDHqEZJuaaK95yafyA%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2593591034729158962&amp;dp-callid=0&amp;time=1551751200&amp;size=c140_u90&amp;quality=100&amp;vuk=3389535607&amp;ft=video",
                "url2": "https://thumbnail0.baidupcs.com/thumbnail/4fe485d1b4956a697c18b9b83cf726ad?fid=3389535607-250528-233030362962066&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-%2FuWm3ClfqnDHqEZJuaaK95yafyA%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2593591034729158962&amp;dp-callid=0&amp;time=1551751200&amp;size=c360_u270&amp;quality=100&amp;vuk=3389535607&amp;ft=video",
                "url3": "https://thumbnail0.baidupcs.com/thumbnail/4fe485d1b4956a697c18b9b83cf726ad?fid=3389535607-250528-233030362962066&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-%2FuWm3ClfqnDHqEZJuaaK95yafyA%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2593591034729158962&amp;dp-callid=0&amp;time=1551751200&amp;size=c850_u580&amp;quality=100&amp;vuk=3389535607&amp;ft=video"
            }
        },
        {
            "category": 6,
            "fs_id": 45991209026214,
            "isdir": 1,
            "md5": "",
            "path": "/来自：海康智存/test002",
            "server_ctime": 1550805134,
            "server_filename": "test002",
            "server_mtime": 1550805134,
            "size": 0
        },
    ],
    "request_id": "2593435083592166397"
}</code></pre>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>31066</td>
<td>文件不存在</td>
</tr>
</tbody></table>
<h2 id="分类列表">分类列表</h2>
<h3 id="获取文档列表">获取文档列表</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/rest/2.0/xpan/file?method=doclist</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>页码，从1开始</td>
</tr>
<tr>
<td>num</td>
<td>int</td>
<td>否</td>
<td>每页返回的页码数， 默认值为1000, 最大值为10000</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>否</td>
<td>排序字段：time按修改时间排序，name按文件名称排序，size按文件大小排序，默认为time</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>否</td>
<td>1 为降序， 0为升序， 默认 1</td>
</tr>
<tr>
<td>parent_path</td>
<td>string</td>
<td>否</td>
<td>目录名称，默认为/</td>
</tr>
<tr>
<td>web</td>
<td>int</td>
<td>否</td>
<td>为1时返回文档预览地址lodocpreview</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/file?method=doclist&amp;access_token=123&amp;page=1&amp;num=10&amp;web=1" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  errno: 0,
  guid_info: "",
  info: [
    {
      server_mtime: 1559566249,
      category: 4,
      fs_id: 660099618098612,
      isdir: 0,
      server_ctime: 1477880064,
      lodocpreview: "https://pcsdata.baidu.com/doc/d9cf6be1868ad7af64bd76fcfa9eb0cb?fid=3389535607-250528-660099618098612&amp;time=1559566476&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-0%2fs%2f9AaDwBAYnyCLJ%2bpxr3Sz1qY%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=3568708660790599349&amp;dp-callid=0&amp;type=pdf&amp;from=lo",
      docpreview: "https://pcsdata.baidu.com/doc/d9cf6be1868ad7af64bd76fcfa9eb0cb?fid=3389535607-250528-660099618098612&amp;time=1559566476&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-0%2fs%2f9AaDwBAYnyCLJ%2bpxr3Sz1qY%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=3568708660790599349&amp;dp-callid=0",
      local_mtime: 1477879939,
      size: 1134246,
      md5: "d9cf6be1868ad7af64bd76fcfa9eb0cb",
      share: 0,
      path: "/baidu/doc/群-鲁迅/群-鲁迅.pdf",
      local_ctime: 1477880064,
      object_key: "E-pSGeDI2jDlGyI4DcKxOI2y25bYI3NR4o1I436iE0I5f46",
      server_filename: "群-鲁迅.pdf"
    }
  ],
  request_id: 3568708660790599000,
  guid: 0
}</code></pre>
<p><strong>文档预览流程</strong></p>
<p>并不是所有的文件格式都支持预览，不支持预览的文件格式如下：</p>
<pre><code class="language-txt">txt、as、sh、c、cpp、h、cs、asp、css、pas、diff、patch、erl、groovy、java、jsp、js、json、pl、php、py、rb、sass、scss、scala、sql、vb、xml、xhtml、html、htm、md、less、lua、go、bat、wml</code></pre>
<p>1、获取文档预览地址</p>
<p>文档预览地址即lodocpreview，如果接口只下发了docpreview，那么lodocpreview=docpreview + "type=pdf&amp;from=lo"</p>
<p>2、请求method=newinfo接口获取ndb_key</p>
<pre><code class="language-shell"># 请求示例
# lodocpreview + "method=newinfo"
curl "https://pcsdata.baidu.com/doc/d9cf6be1868ad7af64bd76fcfa9eb0cb?fid=3389535607-250528-660099618098612&amp;time=1559566476&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-0%2fs%2f9AaDwBAYnyCLJ%2bpxr3Sz1qY%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=3568708660790599349&amp;dp-callid=0&amp;type=pdf&amp;from=lo&amp;method=newinfo"

<h1 id="响应示例">响应示例</h1>
</code><p><code class="language-shell">{
  "page_num": 89,
  "status": "HITNDB",
  "ndb_key": "n-lodocview-qd-lo-d9cf6be1868ad7af64bd76fcfa9eb0cb-convert-pdf-part-0",
  "region": "Qingdao",
  "request_id": 3568687512979403411
}</code></p></pre><p></p>
<p>3、请求method=newview接口获取文件内容</p>
<p>如果ndb_key以"-pdf-part-0"结尾，需要忽略"-pdf-part-0"</p>
<pre><code class="language-shell"># lodocpreview + "method=newview" + "ndb_key=xxx" + "region=xxx"
curl "https://pcsdata.baidu.com/doc/d9cf6be1868ad7af64bd76fcfa9eb0cb?fid=3389535607-250528-660099618098612&amp;time=1559566476&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-0%2fs%2f9AaDwBAYnyCLJ%2bpxr3Sz1qY%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=3568708660790599349&amp;dp-callid=0&amp;type=pdf&amp;from=lo&amp;method=newview&amp;ndb_key=n-lodocview-qd-lo-d9cf6be1868ad7af64bd76fcfa9eb0cb-convert-pdf&amp;region=Qingdao"</code></pre>
<h3 id="获取图片列表">获取图片列表</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/rest/2.0/xpan/file?method=imagelist</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>页码，从1开始</td>
</tr>
<tr>
<td>num</td>
<td>int</td>
<td>否</td>
<td>每页返回的页码数， 默认值为1000, 最大值为10000</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>否</td>
<td>排序字段：默认为time<br>time按修改时间排序，ctime按上传时间排序，<br>name按文件名称排序，size按文件大小排序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>否</td>
<td>1 为降序， 0为升序， 默认 1</td>
</tr>
<tr>
<td>web</td>
<td>string</td>
<td>否</td>
<td>值为web时，返回值增加thunbs字段</td>
</tr>
<tr>
<td>parent_path</td>
<td>string</td>
<td>否</td>
<td>目录名称，为空时，parent_path = "/" &amp;&amp; recursion = 1</td>
</tr>
<tr>
<td>recursion</td>
<td>int</td>
<td>否</td>
<td>0 不递归、1 递归，默认0</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/file?method=imagelist&amp;access_token=123&amp;page=1&amp;num=10&amp;web=web" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  "errno": 0,
  "guid_info": "",
  "info": [
    {
      "server_mtime": 1547364256,
      "category": 3,
      "fs_id": 437742122103552,
      "server_ctime": 1547364256,
      "isdir": 0,
      "thumbs": {
        "icon": "https://thumbnail0.baidupcs.com/thumbnail/d000d040ff4c130660bbd80316061e76?fid=591271737-250528-437742122103552&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-I1uos8L49xwx%2bdKsn%2bJ%2ftIgF9Kk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=409653354506229084&amp;dp-callid=0&amp;time=1547794800&amp;size=c60_u60&amp;quality=100&amp;vuk=591271737&amp;ft=image",
        "url3": "https://thumbnail0.baidupcs.com/thumbnail/d000d040ff4c130660bbd80316061e76?fid=591271737-250528-437742122103552&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-I1uos8L49xwx%2bdKsn%2bJ%2ftIgF9Kk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=409653354506229084&amp;dp-callid=0&amp;time=1547794800&amp;size=c850_u580&amp;quality=100&amp;vuk=591271737&amp;ft=image",
        "url2": "https://thumbnail0.baidupcs.com/thumbnail/d000d040ff4c130660bbd80316061e76?fid=591271737-250528-437742122103552&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-I1uos8L49xwx%2bdKsn%2bJ%2ftIgF9Kk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=409653354506229084&amp;dp-callid=0&amp;time=1547794800&amp;size=c360_u270&amp;quality=100&amp;vuk=591271737&amp;ft=image",
        "url1": "https://thumbnail0.baidupcs.com/thumbnail/d000d040ff4c130660bbd80316061e76?fid=591271737-250528-437742122103552&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-I1uos8L49xwx%2bdKsn%2bJ%2ftIgF9Kk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=409653354506229084&amp;dp-callid=0&amp;time=1547794800&amp;size=c140_u90&amp;quality=100&amp;vuk=591271737&amp;ft=image"
      },
      "local_mtime": 1547205427,
      "size": 225332,
      "md5": "d000d040ff4c130660bbd80316061e76",
      "share": 0,
      "path": "/xiaohao_share/2019-01-11 191707.jpg",
      "local_ctime": 1547205427,
      "object_key": "E-pSFwNI4tzxtNIoBGvnI4DC98mIDq3vrI1EHyjJI12zw",
      "server_filename": "2019-01-11 191707.jpg"
    },
  ],
  "request_id": 409653354506229084,
  "guid": 0
}</code></pre>
<h3 id="获取视频列表">获取视频列表</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/rest/2.0/xpan/file?method=videolist</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>页码，从1开始</td>
</tr>
<tr>
<td>num</td>
<td>int</td>
<td>否</td>
<td>每页返回的页码数， 默认值为1000, 最大值为10000</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>否</td>
<td>排序字段：time按修改时间排序，name按文件名称排序，size按文件大小排序，默认为time</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>否</td>
<td>1 为降序， 0为升序， 默认 1</td>
</tr>
<tr>
<td>web</td>
<td>string</td>
<td>否</td>
<td>值为web时，返回值增加thunbs字段</td>
</tr>
<tr>
<td>parent_path</td>
<td>string</td>
<td>否</td>
<td>目录名称，默认为/</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/file?method=videolist&amp;access_token=123&amp;page=1&amp;num=10&amp;web=web" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  "errno": 0,
  "guid_info": "",
  "info": [
    {
      "server_mtime": 1547364395,
      "category": 1,
      "fs_id": 841008654557687,
      "server_ctime": 1475689744,
      "isdir": 0,
      "thumbs": {
        "icon": "https://thumbnail0.baidupcs.com/thumbnail/068d1594005083dd5b648afb74567722?fid=591271737-250528-841008654557687&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-gJ7Qy0%2bOyWnOX5Y2nOhzus1Fonk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=416221195074281593&amp;dp-callid=0&amp;time=1547820000&amp;size=c60_u60&amp;quality=100&amp;vuk=591271737&amp;ft=video",
        "url3": "https://thumbnail0.baidupcs.com/thumbnail/068d1594005083dd5b648afb74567722?fid=591271737-250528-841008654557687&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-gJ7Qy0%2bOyWnOX5Y2nOhzus1Fonk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=416221195074281593&amp;dp-callid=0&amp;time=1547820000&amp;size=c850_u580&amp;quality=100&amp;vuk=591271737&amp;ft=video",
        "url2": "https://thumbnail0.baidupcs.com/thumbnail/068d1594005083dd5b648afb74567722?fid=591271737-250528-841008654557687&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-gJ7Qy0%2bOyWnOX5Y2nOhzus1Fonk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=416221195074281593&amp;dp-callid=0&amp;time=1547820000&amp;size=c360_u270&amp;quality=100&amp;vuk=591271737&amp;ft=video",
        "url1": "https://thumbnail0.baidupcs.com/thumbnail/068d1594005083dd5b648afb74567722?fid=591271737-250528-841008654557687&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-gJ7Qy0%2bOyWnOX5Y2nOhzus1Fonk%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=416221195074281593&amp;dp-callid=0&amp;time=1547820000&amp;size=c140_u90&amp;quality=100&amp;vuk=591271737&amp;ft=video"
      },
      "local_mtime": 1475689744,
      "size": 2991952238,
      "md5": "068d1594005083dd5b648afb74567722",
      "share": 0,
      "path": "/xiaohao_share/湄G河行动.Operation.Mekong.2016.【微信公众号：wudingyingyuan资源电影首发】.mp4",
      "local_ctime": 1475689744,
      "object_key": "C-I5cynjjI4VzZtZI1TzXqKI25iPJT",
      "server_filename": "湄G河行动.Operation.Mekong.2016.【微信公众号：wudingyingyuan资源电影首发】.mp4"
    },
  ],
  "request_id": 416221195074281593,
  "guid": 0
}</code></pre>
<h3 id="获取bt列表">获取bt列表</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET https://pan.baidu.com/rest/2.0/xpan/file?method=btlist</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>页码，从1开始</td>
</tr>
<tr>
<td>num</td>
<td>int</td>
<td>否</td>
<td>每页返回的页码数， 默认值为1000, 最大值为10000</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>否</td>
<td>排序字段：time按修改时间排序，name按文件名称排序，size按文件大小排序，默认为time</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>否</td>
<td>1 为降序， 0为升序， 默认 1</td>
</tr>
<tr>
<td>parent_path</td>
<td>string</td>
<td>否</td>
<td>目录名称，默认为/</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/file?method=btlist&amp;access_token=123&amp;page=1&amp;num=10" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  "errno": 0,
  "guid_info": "",
  "info": [
    {
      "server_mtime": 1548579362,
      "category": 7,
      "fs_id": 452831966538278,
      "server_ctime": 1548579362,
      "isdir": 0,
      "local_mtime": 1548579272,
      "size": 11628,
      "md5": "034054d0c9cbd08078a864a891387ee6",
      "path": "/来自：华为路由器/T号玩家.ready.player.one.2018.720p.x264.双语字幕-深影字幕组.torrent",
      "local_ctime": 1548579362,
      "object_key": "E-pSqZcI1OMOeQI4tTO0oI2aimr4I2JgxEjIyWPTWI3dN",
      "server_filename": "T号玩家.ready.player.one.2018.720p.x264.双语字幕-深影字幕组.torrent"
    },
  ],
  "request_id": 1030992399655491659,
  "guid": 0
}</code></pre>
<h3 id="获取分类文件总个数">获取分类文件总个数</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET  https://pan.baidu.com/api/categoryinfo</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>category</td>
<td>int</td>
<td>是</td>
<td>文件类型，1 视频、2 音频、3 图片、4 文档、5 应用、6 其他、7 种子</td>
</tr>
<tr>
<td>parent_path</td>
<td>string</td>
<td>否</td>
<td>目录名称，为空时，parent_path = "/" &amp;&amp; recursion = 1</td>
</tr>
<tr>
<td>recursion</td>
<td>int</td>
<td>否</td>
<td>0 不递归、1 递归，默认0</td>
</tr>
</tbody></table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>count</td>
<td>int</td>
<td>文件个数</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/api/categoryinfo?category=3&amp;parent_path=/baidu&amp;recursion=1&amp;access_token=123" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  "errno": 0,
  "info": {
    "3": {
      "total": 678,
      "size": 247939337,
      "count": 678
    }
  },
  "request_id": 3142668664818732785
}</code></pre>
<h3 id="获取分类列表文件">获取分类列表文件</h3>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET  https://pan.baidu.com/rest/2.0/xpan/multimedia?method=categorylist</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>category</td>
<td>string</td>
<td>是</td>
<td>文件类型，1 视频、2 音频、3 图片、4 文档、5 应用、6 其他、7 种子<br>多个category使用英文逗号分隔，示例：3,4</td>
</tr>
<tr>
<td>parent_path</td>
<td>string</td>
<td>否</td>
<td>目录名称，为空时，parent_path = "/" &amp;&amp; recursion = 1</td>
</tr>
<tr>
<td>recursion</td>
<td>int</td>
<td>否</td>
<td>0 不递归、1 递归，默认0</td>
</tr>
<tr>
<td>ext</td>
<td>string</td>
<td>否</td>
<td>需要的文件格式，多个格式以英文逗号分隔，示例: txt,epub，默认为category下所有格式</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>查询起点，默认0</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>否</td>
<td>查询数目，最大1000，默认1000</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>否</td>
<td>排序字段：time按修改时间排序，name按文件名称排序，size按文件大小排序，默认为time</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>否</td>
<td>1 为降序， 0为升序， 默认 1</td>
</tr>
</tbody></table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>list</td>
<td>json array</td>
<td>文件列表</td>
</tr>
<tr>
<td>has_more</td>
<td>int</td>
<td>是否还有数据，1 有、0 没有</td>
</tr>
<tr>
<td>cursor</td>
<td>int</td>
<td>下一次的start</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/multimedia?method=categorylist&amp;access_token=123&amp;category=3&amp;ext=png&amp;start=0&amp;limit=10" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  'cursor': 35,
  'errmsg': 'succ',
  'errno': 0,
  'has_more': 1,
  'list': [
    {
      'category': 3,
      'fs_id': 1040445308924145,
      'md5': 'd09067f4c96762d21281640d0960ac32',
      'path': '/apps/TCL_TV/2019-05-10 142012.png',
      'server_ctime': 1557473805,
      'server_filename': '2019-05-10 142012.png',
      'server_mtime': 1557473805,
      'size': 56878,
      'thumbs': {
        'icon': 'https://thumbnail0.baidupcs.com/thumbnail/d09067f4c96762d21281640d0960ac32?fid=3389535607-250528-1040445308924145&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-rGywnUxzt3jUSb4ft1I3hwvXHDk%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2410687714784341875&amp;dp-callid=0&amp;time=1558065600&amp;size=c60_u60&amp;quality=100&amp;vuk=3389535607&amp;ft=image',
        'url1': 'https://thumbnail0.baidupcs.com/thumbnail/d09067f4c96762d21281640d0960ac32?fid=3389535607-250528-1040445308924145&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-rGywnUxzt3jUSb4ft1I3hwvXHDk%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2410687714784341875&amp;dp-callid=0&amp;time=1558065600&amp;size=c140_u90&amp;quality=100&amp;vuk=3389535607&amp;ft=image',
        'url2': 'https://thumbnail0.baidupcs.com/thumbnail/d09067f4c96762d21281640d0960ac32?fid=3389535607-250528-1040445308924145&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-rGywnUxzt3jUSb4ft1I3hwvXHDk%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2410687714784341875&amp;dp-callid=0&amp;time=1558065600&amp;size=c360_u270&amp;quality=100&amp;vuk=3389535607&amp;ft=image',
        'url3': 'https://thumbnail0.baidupcs.com/thumbnail/d09067f4c96762d21281640d0960ac32?fid=3389535607-250528-1040445308924145&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-rGywnUxzt3jUSb4ft1I3hwvXHDk%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2410687714784341875&amp;dp-callid=0&amp;time=1558065600&amp;size=c850_u580&amp;quality=100&amp;vuk=3389535607&amp;ft=image'
      }
    }
  ],
  'request_id': '2410624071152456116'
}</code></pre>
<h2 id="搜索文件">搜索文件</h2>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET  https://pan.baidu.com/rest/2.0/xpan/file?method=search</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>dir</td>
<td>string</td>
<td>否</td>
<td>搜索目录，默认根目录</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>是</td>
<td>搜索关键字</td>
</tr>
<tr>
<td>recursion</td>
<td>string</td>
<td>否</td>
<td>是否递归，1 递归、0 不递归，默认0</td>
</tr>
<tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>页数，从1开始，缺省则返回所有条目</td>
</tr>
<tr>
<td>num</td>
<td>int</td>
<td>否</td>
<td>每页条目数，默认为1000，最大值为1000</td>
</tr>
<tr>
<td>web</td>
<td>int</td>
<td>否</td>
<td>默认0，为1时返回缩略图信息</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/file?method=search&amp;access_token=123&amp;key=IMG&amp;recursion=1&amp;web=1" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  errno: 0,
  list: [
    {
      fs_id: 818107317804,
      path: "/baidu/image/老照片/我的一家/岁月年华/IMG0308A.jpg",
      server_filename: "IMG0308A.jpg",
      size: 10722,
      server_mtime: 1548243978,
      server_ctime: 1548243978,
      local_mtime: 1281401132,
      local_ctime: 1548243978,
      isdir: 0,
      category: 3,
      share: 0,
      oper_id: 3389535607,
      extent_tinyint1: 0,
      md5: "19b2a01f89a976efc6b2d3a423ce23f4",
      thumbs: {
        url1: "https://thumbnail0.baidupcs.com/thumbnail/19b2a01f89a976efc6b2d3a423ce23f4?fid=3389535607-250528-818107317804&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-Zlp6warNNVWfWj64i7YNlKLU%2Byc%3D&amp;expires=8h&amp;chkv=0&amp;chkbd=0&amp;chkpc=&amp;dp-logid=1990380468104276625&amp;dp-callid=0&amp;time=1553684400&amp;size=c140_u90&amp;quality=100&amp;vuk=3389535607&amp;ft=image",
        url2: "https://thumbnail0.baidupcs.com/thumbnail/19b2a01f89a976efc6b2d3a423ce23f4?fid=3389535607-250528-818107317804&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-Zlp6warNNVWfWj64i7YNlKLU%2Byc%3D&amp;expires=8h&amp;chkv=0&amp;chkbd=0&amp;chkpc=&amp;dp-logid=1990380468104276625&amp;dp-callid=0&amp;time=1553684400&amp;size=c360_u270&amp;quality=100&amp;vuk=3389535607&amp;ft=image",
        url3: "https://thumbnail0.baidupcs.com/thumbnail/19b2a01f89a976efc6b2d3a423ce23f4?fid=3389535607-250528-818107317804&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-Zlp6warNNVWfWj64i7YNlKLU%2Byc%3D&amp;expires=8h&amp;chkv=0&amp;chkbd=0&amp;chkpc=&amp;dp-logid=1990380468104276625&amp;dp-callid=0&amp;time=1553684400&amp;size=c850_u580&amp;quality=100&amp;vuk=3389535607&amp;ft=image",
        icon: "https://thumbnail0.baidupcs.com/thumbnail/19b2a01f89a976efc6b2d3a423ce23f4?fid=3389535607-250528-818107317804&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-Zlp6warNNVWfWj64i7YNlKLU%2Byc%3D&amp;expires=8h&amp;chkv=0&amp;chkbd=0&amp;chkpc=&amp;dp-logid=1990380468104276625&amp;dp-callid=0&amp;time=1553684400&amp;size=c60_u60&amp;quality=100&amp;vuk=3389535607&amp;ft=image"
      }
    }
  ],
  request_id: 1990380468104276700,
  has_more: 1
}</code></pre>
<h2 id="文件操作">文件操作</h2>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">POST  https://pan.baidu.com/rest/2.0/xpan/file?method=filemanager</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>opera</td>
<td>string</td>
<td>是</td>
<td>copy、move、rename、delete</td>
</tr>
<tr>
<td>filelist</td>
<td>json array</td>
<td>是</td>
<td>文件列表</td>
</tr>
<tr>
<td>async</td>
<td>int</td>
<td>是</td>
<td>0 同步、1 自适应、2 异步</td>
</tr>
<tr>
<td>ondup</td>
<td>string</td>
<td>否</td>
<td>遇到重复文件的处理策略, <br>fail(默认，直接返回失败)、newcopy(重命名文件)、overwrite、skip</td>
</tr>
</tbody></table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>taskid</td>
<td>uint64</td>
<td>异步任务ID，async=2时返回</td>
</tr>
<tr>
<td>info</td>
<td>json array</td>
<td>文件信息</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell"># 复制文件
curl "https://pan.baidu.com/rest/2.0/xpan/file?method=filemanager&amp;access_token=123&amp;opera=copy" -d 'async=2&amp;filelist=[{"path":"/百度test/图片/test/IMG_2230.JPG","dest":"/baidu","newname":"IMG_2230.JPG","ondup":"fail"}]' -H "User-Agent: pan.baidu.com"

<h1 id="删除文件">删除文件</h1>
</code><p><code class="language-shell">curl "<a href="https://pan.baidu.com/rest/2.0/xpan/file?method=filemanager&amp;access_token=123&amp;opera=delete">https://pan.baidu.com/rest/2.0/xpan/file?method=filemanager&amp;access_token=123&amp;opera=delete</a>" -d 'async=1&amp;filelist=["/百度test/图片/test/IMG_2192.JPG"]' -H "User-Agent: pan.baidu.com"</code></p></pre><p></p>
<p><strong>响应示例</strong></p>
<pre><code class="language-json"># async=2
{
    "errno": 0,
    "info": [],
    "request_id": 1033863081918658686,
    "taskid": 1061125714656015
}
# async=1
{
    "errno": 0,
    "info": [{
        "errno": 0,
        "path": "/百度test/图片/test/IMG_2192.JPG"
    }],
    "request_id": 1033962415934873896
}</code></pre>
<h2 id="查询文件信息">查询文件信息</h2>
<p><strong>接口说明</strong></p>
<pre><code class="language-shell">GET  https://pan.baidu.com/rest/2.0/xpan/multimedia?method=filemetas</code></pre>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>必需</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>path</td>
<td>string</td>
<td>否</td>
<td>查询共享目录文件时需要，格式: /&lt;share&gt;uk-fsid，<br>uk对应共享目录创建者ID，fsid对应共享目录的fsid</td>
</tr>
<tr>
<td>fsids</td>
<td>json array</td>
<td>是</td>
<td>fsid数组，数组中元素类型为uint64，大小上限100</td>
</tr>
<tr>
<td>thumb</td>
<td>int</td>
<td>否</td>
<td>是否需要缩略图地址，0 否、1 是，默认0</td>
</tr>
<tr>
<td>dlink</td>
<td>int</td>
<td>否</td>
<td>是否需要文件下载地址dlink，0 否、1 是，默认0</td>
</tr>
<tr>
<td>extra</td>
<td>int</td>
<td>否</td>
<td>图片是否需要拍摄时间、原图分辨率等其他信息，<br>0 否、1 是，默认0</td>
</tr>
</tbody></table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>list</td>
<td>json array</td>
<td>文件信息列表</td>
</tr>
<tr>
<td>names</td>
<td>json string</td>
<td>文件上传者uk和账户名称</td>
</tr>
</tbody></table>
<p><strong>请求示例</strong></p>
<pre><code class="language-shell">curl "https://pan.baidu.com/rest/2.0/xpan/multimedia?method=filemetas&amp;access_token=123&amp;path=/&lt;share&gt;123-456&amp;fsids=[111,222]&amp;thumb=1&amp;dlink=1&amp;extra=1" -H "User-Agent: pan.baidu.com"</code></pre>
<p><strong>响应示例</strong></p>
<pre><code class="language-json">{
  'errmsg': 'succ',
  'errno': 0,
  'list': [
    {
      'category': 3,
      'date_taken': 1547082651,
      'dlink': 'https://d.pcs.baidu.com/file/aa344bc13a48371d67d6d77dec755e30?fid=3389535607-250528-134410582476757&amp;rt=sh&amp;sign=FDtAEReVK-DCb740ccc5511e5e8fedcff06b081203-Yi%2FvvMF31nw0wudDWVB4SDVC0xQ%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=2&amp;dp-logid=31733274309972372&amp;dp-callid=0&amp;caller=dumi&amp;dstime=1547777681&amp;r=978177193&amp;vuk=591271737',
      'filename': '2019-01-10 091051.jpg',
      'fs_id': 134410582476757,
      'height': 1440,
      'isdir': 0,
      'md5': 'aa344bc13a48371d67d6d77dec755e30',
      'oper_id': 591271737,
      'path': '/&lt;share&gt;3389535607-373787122265074/2019-01-10 091051.jpg',
      'server_ctime': 1547190854,
      'server_mtime': 1547190854,
      'size': 228352,
      'thumbs': {
        'icon': 'https://thumbnail0.baidupcs.com/thumbnail/aa344bc13a48371d67d6d77dec755e30?fid=3389535607-250528-134410582476757&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-4n7m9lsaKp%2F4YyFMxGi9ajrPpU4%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=31733184941929178&amp;dp-callid=0&amp;time=1547776800&amp;size=c60_u60&amp;quality=100&amp;vuk=3389535607&amp;ft=image',
        'url1': 'https://thumbnail0.baidupcs.com/thumbnail/aa344bc13a48371d67d6d77dec755e30?fid=3389535607-250528-134410582476757&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-4n7m9lsaKp%2F4YyFMxGi9ajrPpU4%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=31733184941929178&amp;dp-callid=0&amp;time=1547776800&amp;size=c140_u90&amp;quality=100&amp;vuk=3389535607&amp;ft=image',
        'url2': 'https://thumbnail0.baidupcs.com/thumbnail/aa344bc13a48371d67d6d77dec755e30?fid=3389535607-250528-134410582476757&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-4n7m9lsaKp%2F4YyFMxGi9ajrPpU4%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=31733184941929178&amp;dp-callid=0&amp;time=1547776800&amp;size=c360_u270&amp;quality=100&amp;vuk=3389535607&amp;ft=image',
        'url3': 'https://thumbnail0.baidupcs.com/thumbnail/aa344bc13a48371d67d6d77dec755e30?fid=3389535607-250528-134410582476757&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-4n7m9lsaKp%2F4YyFMxGi9ajrPpU4%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=31733184941929178&amp;dp-callid=0&amp;time=1547776800&amp;size=c850_u580&amp;quality=100&amp;vuk=3389535607&amp;ft=image'
      },
      'width': 1080
    },
    {
      'category': 2,
      'dlink': 'https://d.pcs.baidu.com/file/68f4a326fe4be31367872a2cc125753f?fid=3389535607-250528-174636582270593&amp;rt=sh&amp;sign=FDtAEReK-DCb740ccc5511e5e8fedcff06b081203-i1TMJsMy45FOLx%2F9bVMO08Fm2WE%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=31733371140209838&amp;dp-callid=0&amp;caller=dumi&amp;dstime=1547777681&amp;r=978177193&amp;vuk=591271737',
      'filename': '周杰伦 - 梯田.mp3',
      'fs_id': 174636582270593,
      'isdir': 0,
      'md5': '68f4a326fe4be31367872a2cc125753f',
      'oper_id': 3389535607,
      'path': '/&lt;share&gt;3389535607-373787122265074/周杰伦 - 梯田.mp3',
      'server_ctime': 1405574700,
      'server_mtime': 1546421910,
      'size': 8540160,
      'thumbs': {

<pre><code class="hljs undefined">  }
},</code></pre></code><p><code class="language-json">  ],
  'names': {
    '3389535607': '北极b***<em>-网盘',
    '591271737': '青</em>浪人'
  },
  'request_id': '31865169565289447'
}</code></p></pre><p></p>
<p><strong>错误码说明</strong></p>
<table>
<thead>
<tr>
<th>错误码</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>42211</td>
<td>图片详细信息查询失败</td>
</tr>
<tr>
<td>42212</td>
<td>文件上传者信息查询失败</td>
</tr>
<tr>
<td>42213</td>
<td>共享目录鉴权失败</td>
</tr>
<tr>
<td>42214</td>
<td>文件基础信息查询失败</td>
</tr>
</tbody></table>
<p><strong>dlink使用说明</strong></p>
<p>1、请求dlink时需要带access_token、需要设置header中的User-Agent字段</p>
<p>2、dlink有效时间为8小时</p>
<p>示例如下</p>
<pre><code class="language-shell"># dlink存在302跳转，需要加-L参数
curl -L "https://d.pcs.baidu.com/file/20e5b58fb37ab76cf098382564429b98?fid=3389535607-250528-726538899323031&amp;rt=pr&amp;sign=FDtAERV-DCb740ccc5511e5e8fedcff06b081203-EFiHsPuXVFSBc970LPhtTv5eeGc%3D&amp;expires=8h&amp;chkbd=0&amp;chkv=2&amp;dp-logid=1068658227831925069&amp;dp-callid=0&amp;dstime=1545640559&amp;r=437149060&amp;access_token=123" -H "User-Agent: pan.baidu.com"</code></pre>
<h2 id="上传接口">上传接口</h2>
<p>上传相关内容参考<a href="https://pan.baidu.com/union/document/upload"><font color="blue">开放平台上传能力接口文档</font></a>。</p>
<h2 id="下载接口">下载接口</h2>
<p>1、通过列表类接口获取到文件ID(fsid)</p>
<p>2、使用fsid调用<font color="blue"><a href="https://pan.baidu.com/rest/2.0/xpan/multimedia?method=filemetas">https://pan.baidu.com/rest/2.0/xpan/multimedia?method=filemetas</a></font>获取文件下载地址dlink</p>
<p>3、使用dlink下载文件【请务必阅读dlink使用说明】</p>
</div></div>